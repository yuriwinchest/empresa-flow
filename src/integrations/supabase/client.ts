// This file is automatically generated but now unified for project: lhkrxbhqagvuetoigqkl.
import { createClient } from '@supabase/supabase-js';
import type { Database } from './types';

// Default Project ID: lhkrxbhqagvuetoigqkl
const DEFAULT_URL = "https://lhkrxbhqagvuetoigqkl.supabase.co";
const DEFAULT_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxoa3J4YmhxYWd2dWV0b2lncWtsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY4NzQ0MjYsImV4cCI6MjA4MjQ1MDQyNn0.nhez87dpIOxo-pU16jH7oaXn44VTGO0CHAAA2-aSn5A";

// Main Connection
const SUPABASE_URL = import.meta.env.VITE_SUPABASE_URL || import.meta.env.NEXT_PUBLIC_SUPABASE_URL || DEFAULT_URL;
const SUPABASE_KEY =
  import.meta.env.VITE_SUPABASE_ANON_KEY ||
  import.meta.env.NEXT_PUBLIC_SUPABASE_ANON_KEY ||
  import.meta.env.VITE_SUPABASE_PUBLISHABLE_KEY ||
  import.meta.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY ||
  DEFAULT_KEY;

// Secondary Connection (Inherits main connection to unify data access on project lhkrxbhqagvuetoigqkl)
const SUPABASE_TATICA_URL = import.meta.env.VITE_SUPABASE_TATICA_URL || import.meta.env.NEXT_PUBLIC_SUPABASE_TATICA_URL || SUPABASE_URL;
const SUPABASE_TATICA_KEY =
  import.meta.env.VITE_SUPABASE_TATICA_ANON_KEY ||
  import.meta.env.NEXT_PUBLIC_SUPABASE_TATICA_ANON_KEY ||
  import.meta.env.VITE_SUPABASE_TATICA_PUBLISHABLE_KEY ||
  import.meta.env.NEXT_PUBLIC_SUPABASE_TATICA_PUBLISHABLE_KEY ||
  SUPABASE_KEY;

// Default client
export const supabase = createClient<Database>(SUPABASE_URL, SUPABASE_KEY, {
  auth: {
    storage: localStorage,
    persistSession: true,
    autoRefreshToken: true,
  }
});

// supabaseTatica is now synonymous with the main client unless explicitly redirected via env vars
export const supabaseTatica = createClient<Database>(SUPABASE_TATICA_URL, SUPABASE_TATICA_KEY, {
  auth: {
    storage: localStorage,
    persistSession: true,
    autoRefreshToken: true,
    storageKey: 'sb-tatica-auth-token',
  }
});
